"Hello Augment,
Your mission is to develop (or redevelop) a multi-stage Health Diagnosis Application. This application will leverage the Perplexity Sonar API to orchestrate a series of specialized AI roles, guiding a user through a preliminary health assessment. You will build this system step-by-step, implementing each AI role's functionality and the corresponding user interface elements.
I. Overall Application Architecture & Goal:
Objective: Create a web application where users input their health data, which is then processed sequentially by a chain of AI personas (General Physician, Medical Analyst, Specialist, etc.). The application will display the insights from each AI role progressively and culminate in a comprehensive summary report.
Core Technology: All AI-driven analysis for each role will be performed via calls to the Perplexity Sonar API, using the specific system prompts defined for each AI role (as previously provided).
Radiance AI Branding: The application, and all AI responses within it, must consistently reflect the "Radiance AI" brand.
II. Development Approach: Implement Role by Role
You are to construct the application by implementing the functionality for each AI role sequentially. For each role, this includes:
* Setting up the API call to Perplexity Sonar with the correct system prompt and input data (which will include user input and reference data from previous roles).
* Handling the JSON response from the API.
* Integrating its display into the user interface as described below.
The sequence of AI roles is:
1. Medical Analyst AI (Conditional: Only if medical test report text or image description is provided by the user).
2. General Physician AI.
3. Specialist Doctor AI (Note: The system prompt for this AI is dynamic and its specialty type will be determined by the General Physician AI's output).
4. Pathologist AI.
5. Nutritionist AI.
6. Pharmacist AI.
7. Follow-up Specialist AI.
8. Summarizer AI.
III. User Interface (UI) and User Experience (UX) Requirements:
Live Results Page - "Thinking (Role Name)" Display:
As the application processes the user's data through the AI chain, the results page must provide a "live" or sequential update.
Before an AI role begins processing, or while it's processing, display a status indicator such as:
"Thinking (General Physician AI)..."
"Analyzing Report (Medical Analyst AI)..."
"Consulting Specialist (Pulmonologist AI)..." (Use the specific specialist type)
Once an AI role completes its analysis and its JSON response is received, display its key findings or a user-friendly summary immediately, before proceeding to the next AI role. This creates a step-by-step reveal of the diagnostic journey.
Dynamic Final Report Page:
The final report page, generated by the Summarizer AI's output, should be structured dynamically.
The layout must adapt to accommodate and clearly present the information from all AI roles that participated in the specific user's diagnosis.
Essentially, the number of "blocks" or sections in the report (referencing radiance_ai_team_journey_overview in the Summarizer AI's JSON) should correspond to the number of AI roles that processed the data for that session.
Design Consistency:
The visual design (color palette, typography, layout principles, component styles, spacing, etc.) of all new pages and UI elements created for this diagnostic application (including the live results page and the final report page) MUST precisely match the existing design language of your website's Landing Page, Dashboard, and Profile Page.
You are responsible for ensuring this consistency. If you require specific design assets, CSS frameworks, style guides, or component libraries used in the existing site to achieve this, please state this requirement.
IV. Data Handling and Storage:
User Input: The application will receive user input in the structured JSON format previously defined (including user details, health metrics, symptoms, medical info, and optional medical test data).
AI Role Outputs: Each AI role (via Perplexity Sonar API) will return its analysis strictly in the JSON format specified in its individual system prompt.
Storage of JSON Responses: It is crucial that the raw JSON response from the Perplexity Sonar API for each AI role is stored persistently (e.g., in a database). This data is essential for:
Populating the live results page.
Providing complete input to the final Summarizer AI.
Generating the dynamic final report.
Auditing, debugging, and potential future analysis.
V. AI Role Implementation Details:
Utilize the detailed system prompts provided previously for each of the 8 AI roles. These prompts define their persona, specific tasks, input data (including reference_data_from_previous_role), and the exact structure of their JSON output.
Remember the conditional logic for the Medical Analyst AI â€“ it should only be invoked if medical_test_report_text or medical_test_image_description is present in the user's input.
Implement the dynamic system prompt generation for the Specialist Doctor AI. The content of its system prompt (specifically the specialist type) will depend on the recommended_specialist_type field from the General Physician AI's JSON output.
Ensure every AI-generated response includes the mandatory disclaimer stating that the information is not a definitive medical diagnosis and advises consultation with a qualified healthcare professional.
VI. Clarifications and Iteration:
As you proceed with the development of each module and UI component, if you encounter any ambiguities in these requirements, or if you need further details (e.g., specific endpoints for existing design assets), please articulate your questions clearly.
This is an iterative process. We expect to refine as we go.
Your goal is to deliver a functional, user-friendly, and visually consistent Health Diagnosis Application according to these specifications. Begin by outlining your plan for the first AI role (Medical Analyst, considering its conditional nature, or General Physician if preferred as a starting point) and its UI representation.